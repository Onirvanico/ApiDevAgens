<!DOCTYPE html>
<html lang="pt-br" xmlns:th="https://www.thymeleaf.org">

<head th:replace="~{base_layout_pacote :: head}"></head>

<body>
	<div th:replace="~{base_layout_pacote :: navbar}"></div>
	
	<div class="container mb-2">
	    <h1>Pacotes</h1>
	    <div th:if="${pacotes.empty}">
	    	<h5 class="text-center text-white bg-dark rounded p-2" style="width: 50%; margin: auto;"> Não há nenhum pacote até o momento</h5>
	    </div>
	    <a href="/pacote/form"><button class="btn btn-primary my-3 p-2">Adicionar
	        Pacote</button></a>
	    <div th:if="${message}">
		    <p id="msg" th:text="${message}" class="alert alert-info"></p>    
	    </div>
	    <div th:unless="${pacotes.empty}">
		    <table class="table table-light">
		        <tr class="table-dark">
		            <th></th>
		            <th scope="col">Id</th>
		            <th scope="col">Dias de estadia</th>
		            <th scope="col">Preço</th>
		            <th scope="col">Destino</th>
		            <th scope="col"></th>
		        </tr>
		         
		        <tr th:each="pacote : ${pacotes}">
		            <th scope="row"></th>
		            <td style="vertical-align:middle;"><span th:text="${pacote.id}"></span></td>
		            <td style="vertical-align:middle;"><span th:text="${pacote.diasEstadia}"></span></td>
		            <td style="vertical-align:middle;"><span th:text="${pacote.preco}"></span></td>
		            <td style="vertical-align:middle;"><span th:text="${pacote.destino.local}"></span></td>
		            <td class="buttons " style="vertical-align:middle;">
		            	<a th:href="@{form/{id}(id=${pacote.id})}"
		                                    th:method="get" class="btn btn-warning"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
						  <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
						  <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
						</svg></a>
		                <a th:href="@{delete/{id}(id=${pacote.id})}" th:method="delete"
		                   class="btn btn-danger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-trash2" viewBox="0 0 16 16">
						  <path d="M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z"/>
						</svg></a>
		           </td>
		        </tr>
		    </table>
	    </div>
	</div>
	
	<script>
	
		const $ = document.querySelector.bind(document);
		const message = $("#msg");
		setTimeout(() => {
			message.classList.add("fadeOut");
		}, 3000);
		
		setTimeout(() => message.parentNode.removeChild(message), 4000);
		
	</script>

</body>

</html>